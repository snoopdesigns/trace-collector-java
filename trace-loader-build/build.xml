<project name="MyProject" default="base" basedir=".">
    <description>
        ANT script for building installers and executables
    </description>

    <property name="dist"  location="dist"/>
    <property name="exec-scripts" location="exec-scripts"/>

    <target name="base">
        <mkdir dir="${dist}"/>
    </target>

    <target name="build-all" description="generate ALL executables" depends="clean, base">
        <mkdir dir="${dist}/trace-loader-unit"/>
        <mkdir dir="${dist}/trace-loader-keeper"/>
        <mkdir dir="${dist}/trace-loader-manager"/>
        <copy file="${com.emc.traceloader:trace-loader-unit:jar:exec-war}" todir="${dist}/trace-loader-unit"/>
        <copy file="${com.emc.traceloader:trace-loader-manager:jar:exec-war}" todir="${dist}/trace-loader-manager"/>
        <copy file="${com.emc.traceloader:trace-loader-keeper-emulator:jar:exec-war}" todir="${dist}/trace-loader-keeper"/>
        <copy file="${com.emc.traceloader:trace-loader-ptrace-emulator:jar:jar-with-dependencies}" tofile="${dist}/trace-loader-unit/test.jar"/>
        <copy todir="${dist}">
            <fileset dir="${exec-scripts}"/>
        </copy>
    </target>

    <target name="build-unit" description="generate UNIT executables" depends="clean, base">
        <mkdir dir="${dist}/trace-loader-unit"/>
        <copy file="${com.emc.traceloader:trace-loader-unit:jar:exec-war}" todir="${dist}/trace-loader-unit"/>
    </target>

    <target name="build-keeper" description="generate Keeper executables" depends="clean, base">
        <mkdir dir="${dist}/trace-loader-keeper"/>
        <copy file="${com.emc.traceloader:trace-loader-keeper-emulator:jar:exec-war}" todir="${dist}/trace-loader-keeper"/>
    </target>

    <target name="build-manager" description="generate manager executables" depends="clean, base">
        <mkdir dir="${dist}/trace-loader-manager"/>
        <copy file="${com.emc.traceloader:trace-loader-manager:jar:exec-war}" todir="${dist}/trace-loader-manager"/>
    </target>

    <target name="clean" description="clean up" >
        <delete dir="${dist}"/>
    </target>
</project>